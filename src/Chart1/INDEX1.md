# 第一节：微服务的演化

## 1.1 传统应用开发

&emsp;&emsp;我2011年~2015年初这几年都是做外包的国企项目，刚刚开始的时候，企业内部的服务大多为单体应用。例如我要开发一个数据统计的系统的时候，包括登录、数据录入、数据展示、数据分析、系统角色权限、各种查询统计等通常都在一个Web网站或者windows桌面应用中进行开发，最后打包为一个.exe文件或者是web站点。最后进行测试、发布、用户交付，如果用户要使用以往系统的用户信息则直接使用脚本将用户数据导入，这种方式。因为当时再国企一个应用系统的使用频率并不高，大部分的工作还都是依靠文件进行的，如再电力系统中要做一个台区图，一般都是用户手绘然后上报给上级领导进行签名审批的，当时没法进行电子审批，而且在内部系统上也不推荐。大部分使用的系统都是进行数据分析统计的每天的访问次数有限压力也不太大，一个应用部署在一个2C4G内存的主机上面完全能支撑住用户的需求。 

&emsp;&emsp;在国企项目的开发中如果需要支撑大量的数据访问一般采取的方案是更换不同的数据库，如访问量不太大，数据量也不高的情况下会选择SqlServer,数据量大和对数据的安全性有比较高的要求的时候可以用oracel（银行客户一般都是用DB2）。说到这里有人可能会问了为什么没有mysql pg 这些数据库，在那个时候企业客户很少能接受用mysql pg 这种开源数据库的，因为稳定性和数据安全性可能没有保障，那个时候在开发企业应用的时候还没有分库分表、数据双写的架构上面的方案，不是数据压力达不到要求就是安全性达不到要求，而用SqlServer Oracle完全能满足用户的需求。  

&emsp;&emsp; 由上面可以看出传统的应用开发主要是一个单体应用访问单数据库就能解决用户在使用需求上面的问题，由于用户量的局限性对服务的访问量不大，单体应用完全能够满足用户的需求

## 1.2 面向服务的架构（SOA）

&emsp;&emsp; 我第一次了SOA这个概念的时候是在2013年，那一年我刚刚来到北京，当时我外包到中石油参与一个项目的开发，当时项目采用了Dubbo框架然后按照不同的功能模块进行开发的，当时了解Dubbo的时候看到了SOA的这个名词，然后去百度了一下。

&emsp;&emsp;百度对SOA的介绍是：面向服务的架构（SOA）是一个组件模型，它将应用程序的不同功能单元（称为服务）进行拆分，并通过这些服务之间定义良好的接口和协议联系起来。接口是采用中立的方式进行定义的，它应该独立于实现服务的硬件平台、操作系统和编程语言。这使得构件在各种各样的系统中的服务可以以一种统一和通用的方式进行交互。

&emsp;&emsp;由此可见SOA也是一种服务架构设计理念，主要的思想是对单体的应用按照业务进行粗粒度、松耦合的方式进行拆分，服务之间通过统一定义的接口进行通讯，SOA的出现可以帮助应用进行横向的扩容而保证应用的可用性和负载的急剧变化。

&emsp;&emsp;当然我们可以看一下Dubbo的开发公司是阿里，Dubbo 在2012年开源，在开源的时候阿里内部已经切换到新版本的SOA框架HSF。为什么现在流行的应用框架大部分是互联网公司呢？往往互联网公司用户比较多，业务量也比较大，最开始大部发的应用都是由单体应用演变而来的。我们都知道淘宝在很多年前就搞过双十一的秒杀活动，在11月11日 0点这个时候，用户的请求量会激增，单体的应用用任何的服务器都是扛不住那么大量的用户的，所以就需要对应用进行架构上的改进，用来提升请求的并发量，用来保障服务的可用性

